(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-5 col-md-7"},[a("div",{ref:"formContainer",staticClass:"card bg-secondary shadow border-0 vld-parent"},[t._m(0),a("div",{staticClass:"card-body px-lg-5 py-lg-5"},[t._m(1),a("form",{attrs:{role:"form"},on:{submit:t.handleSignIn}},[a("base-input",{staticClass:"input-group-alternative mb-3",attrs:{placeholder:"Email","addon-left-icon":"ni ni-email-83"},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}}),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Senha",type:"password","addon-left-icon":"ni ni-lock-circle-open"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}}),t.error?a("base-alert",{staticClass:"text-center mt-4 mb-0",attrs:{type:"danger"}},[a("i",{staticClass:"fas fa-exclamation-circle mr-1"}),t._v("\n            "+t._s(t.error)+"\n          ")]):t._e(),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"mt-4 px-5",attrs:{"native-type":"submit",type:"default",title:"Entrar no portal"}},[t._v("\n              Entrar\n            ")])],1)],1)])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12"},[a("router-link",{staticClass:"text-light float-right",attrs:{to:"/register"}},[a("small",[t._v(" NÃ£o possui uma conta? ")])])],1)])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-transparent pb-4 pt-4"},[a("h1",{staticClass:"text-center"},[t._v("Subscriptions App")]),a("p",{staticClass:"text-center"},[t._v("Entrar")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center text-muted mb-4"},[a("small",[t._v("Entre com suas credenciais")])])}],n=(a("96cf"),a("1da1")),i=a("7424"),o=a("6bf2"),c={name:"Login",data:function(){return{model:{email:"",password:""},error:""}},methods:{handleSignIn:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,r,s,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.preventDefault(),a=this.model,a.email=a.email.trim(),a.email&&a.password){t.next=7;break}this.error="Preencha seu email e senha para continuar.",t.next=26;break;case 7:return r=this.$loading.show({container:this.$refs.formContainer,width:128,height:128}),t.prev=8,t.next=11,i["a"].post("/sessions",a);case 11:s=t.sent,n=s.data,Object(o["d"])(n.user.token,n.roles),c={admin:"diretoria",client:"cliente"},this.$router.push("/".concat(c[n.roles[0]])),this.$toasted.show("Bem-vindo! :)"),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](8),this.error="Houve um problema com o login, verifique suas credenciais.",this.$toasted.error("Ocorreu um erro com com o login");case 23:return t.prev=23,r.hide(),t.finish(23);case 26:case"end":return t.stop()}}),t,this,[[8,19,23,26]])})));function e(e){return t.apply(this,arguments)}return e}()}},l=c,d=a("2877"),u=Object(d["a"])(l,r,s,!1,null,"2bd04b09",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.b2686e45.js.map